{% extends 'layout.html' %}

{% block head %}
<title>Question page</title>
{% endblock %}

{% block body %}

<div class="mt-4 d-flex justify-content-center">
    <div class="card-deck w-75 p-3">
        <div class="card">
            {% for question in questions %}
            <img src="{{ question.image }}" alt="placehd" style="width:100%;">
            <div class="card-body">
                <h3>{{ question.title }}</h3>
                <p>{{ question.message}}</p>
                Views: {{ question.view_number }} <br>
                Votes: {{ question.vote_number }}
            </div>
            <div class="card-footer">
                <a href="/question/{{question.id}}/delete" class="mt-4 btn btn-danger btn-sm"> DELETE QUESTION </a>
                <a href="/question/{{question.id}}/edit" class="mt-4 btn btn-primary btn-sm"> EDIT QUESTION</a>
                <a href="/question/{{question.id}}/vote_down" class="mt-4 btn btn-primary btn-sm float-right">VOTE
                    DOWN</a>
                <a href="/question/{{question.id}}/vote_up" class="mt-4 mr-2 btn btn-primary btn-sm float-right">VOTE
                    UP</a>
            </div>
        </div>
    </div>
</div>
<div class="mt-3">
    {% for answer in answers %}
    <a href="/question/{{question.id}}/new-answer" class="mt-3 btn btn-primary btn-sm"> ADD NEW ANSWER</a>
    <a href="/answer/{{answer.id}}/new-comment" class="mt-3 btn btn-primary btn-xs"> add answer comment</a>
    <a href="/list" class="mt-3 btn btn-primary btn-sm">Home page</a>
    {% endfor %}
</div>

<div class="jumbotron mt-3 container">
    <h2>Answers:</h2>
    {% for answer in answers %}
        <hr>
        <p>{{ answer.message }}</p>
        Image :{{ answer.image }} <br>
        Votes : {{ answer.vote_number }}
        Comments :  {% for comment in answer_comments %}
            {{ comment.message }}
        {% endfor %}
        <a href="/answer/{{ answer.id }}/delete" class="btn btn-danger">Delete</a>
        <a href="/answer/{{answer.id}}/vote_down" class="mt-4 btn btn-primary btn-sm float-right">VOTE
                    DOWN</a>
        <a href="/answer/{{answer.id}}/vote_up" class="mt-4 mr-2 btn btn-primary btn-sm float-right">VOTE
            UP</a>
    {% endfor %}
    </div>
</div>
<div class="jumbotron mt-3 container">
<a href="/question/{{question.id}}/new-comment" class="mt-3 btn btn-primary btn-sm"> ADD NEW COMMENT</a>
    <h2>Comments:</h2>
    {% for comment in question_comments %}
        <hr>
        <p>{{ comment.message }}</p>
    {% endfor %}
    </div>
    {% endfor %}
</div>


{% endblock %}